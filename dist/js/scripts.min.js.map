{"version":3,"sources":["accordion.js","backend.js","body.js","const.js","data.js","delivery-form.js","mask.js","pick-up-form.js","popup.js","tabs.js","utils.js"],"names":["accordion","document","querySelector","accordionItems","querySelectorAll","accordionTriggers","isInit","accordionToggle","event","currentAccordionItem","target","parentNode","currentAccordionContent","nextElementSibling","dataset","open","classList","add","style","maxHeight","scrollHeight","remove","accordionInit","forEach","trigger","addEventListener","item","window","innerWidth","utils","TABLET_WIDTH","removeEventListener","backend","sendFormData","form","setAttribute","data","FormData","xhr","XMLHttpRequest","onreadystatechange","error","readyState","status","onSuccess","statusText","onError","timeout","send","body","lock","lockPaddingValue","offsetWidth","paddingRight","unlock","setTimeout","const","ErrorMessages","pinsСoordinates","Песчаная улица, дом 13","Подсосенский переулок, 11","deliveryForm","deliveryFormInputs","deliveryFormBtn","isErrorValidate","showError","property","formElement","errorMessage","textContent","createElement","insertBefore","nextSibling","getError","formData","name","length","PATTERNS","test","phone","address","spam","message","element","activeElement","contains","cleanError","call","getAttribute","dataField","value","preventDefault","i","elements","tagName","toLowerCase","getFormData","mask","this","literalPattern","numberPattern","newValue","maskLength","valueIndex","maskIndex","match","pickUpForm","pickUpFormInputs","pickUpFormBtn","labels","lastLabel","input","checked","Object","keys","popup","popupCloseItem","popupTitle","popupText","onEscPress","evt","keyCode","close","_message$title","title","_message$text","text","closest","tabsItems","tabsTriggers","tabToggle","currentTabId","replace","tabsInit","click","removeAttribute","reset"],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function () {\n  const accordion = document.querySelector('.accordion');\n  const accordionItems = document.querySelectorAll('.accordion__item');\n  const accordionTriggers = document.querySelectorAll('.accordion__trigger');\n  let isInit = false;\n\n  function accordionToggle(event) {\n    const currentAccordionItem = event.target.parentNode;\n    const currentAccordionContent = event.target.nextElementSibling;\n\n    if (currentAccordionItem.dataset.open === 'false') {\n      currentAccordionItem.dataset.open = 'true';\n      currentAccordionItem.classList.add('accordion__item--show');\n      currentAccordionContent.style.maxHeight = currentAccordionContent.scrollHeight + 'px';\n    } else {\n      currentAccordionItem.dataset.open = 'false';\n      currentAccordionItem.classList.remove('accordion__item--show');\n      currentAccordionContent.style.maxHeight = null;\n    }\n  }\n\n  function accordionInit() {\n    if (!isInit) {\n\n      isInit = true;\n\n      accordion.classList.add('accordion--active');\n\n      accordionTriggers.forEach((trigger) => {\n        trigger.classList.add('accordion__trigger--active');\n        trigger.addEventListener('click', accordionToggle);\n      });\n\n      accordionItems.forEach((item) => {\n        if (item.dataset.open === 'true') {\n          item.classList.add('accordion__item--show');\n        }\n      });\n    }\n  }\n\n  function accordionDestroy() {\n    if (isInit) {\n      isInit = false;\n\n      accordion.classList.remove('accordion--active');\n      accordionTriggers.forEach((trigger) => {\n        trigger.classList.remove('accordion__trigger--active');\n        trigger.removeEventListener('click', accordionToggle);\n      });\n    }\n  }\n\n  document.addEventListener('DOMContentLoaded', () => {\n    if (window.innerWidth < window.utils.TABLET_WIDTH) {\n      accordionInit();\n    }\n  });\n\n  window.addEventListener('resize', () => {\n    if (window.innerWidth < window.utils.TABLET_WIDTH) {\n      accordionInit();\n    }\n\n    if (window.innerWidth >= window.utils.TABLET_WIDTH) {\n      accordionDestroy();\n    }\n  });\n})();\n","(function () {\n\n  const URL = '#' //адрес php-скрипта\n  // const URL = 'http://www.alex-bulanov.ru/mailer/smart.php';\n\n\n  function sendFormData(form) {\n    const sendBtn = form.querySelector('.form__button');\n    sendBtn.setAttribute('disabled', 'true');\n\n    const data = new FormData(form);\n    let xhr = new XMLHttpRequest();\n    xhr.open('POST', URL);\n\n    xhr.onreadystatechange = function () {\n      let error = '';\n\n      if (xhr.readyState !== 4) return;\n\n      switch (xhr.status) {\n        case 0:\n          error = 'Проверьте подключение к сети';\n          break;\n        case 200:\n          window.utils.onSuccess(form);\n          break;\n        case 400:\n          error = 'Неверный запрос';\n          break;\n        case 401:\n          error = 'Пользователь не авторизован';\n          break;\n        case 404:\n          error = 'Серевер не найден';\n          break;\n\n        default:\n          error = 'Cтатус ответа: ' + xhr.status + ' ' + xhr.statusText;\n      }\n\n      if (error) {\n        window.utils.onError(form, error)\n      }\n    };\n\n    xhr.timeout = 2000;\n    xhr.send(data);\n  }\n\n  window.backend = {\n    sendFormData: sendFormData,\n  };\n})();\n","(function () {\n  const TIMEOUT = 200;\n  const body = document.querySelector('body');\n\n  function lock() {\n    let lockPaddingValue = window.innerWidth - document.querySelector('.container').offsetWidth + 'px';\n    body.classList.add('lock');\n    body.style.paddingRight = lockPaddingValue;\n  }\n\n  function unlock() {\n    setTimeout(() => {\n      body.style.paddingRight = 0;\n      body.classList.remove('lock');\n    }, TIMEOUT);\n  }\n\n  window.body = {\n    lock: lock,\n    unlock: unlock,\n  }\n})();\n","(function () {\n\n  const ErrorMessages = [\n    'Укажите Ваше имя',\n    'Укажите Ваш адрес',\n    'Укажите Ваш телефон',\n    'Напишите текст сообщения',\n    'Только кириллица, пробел и тире',\n    'Неверный формат телефона',\n    'Ваше сообщение похоже на спам, уберите специальные символы.',\n    'Выберите один из вариантов',\n  ];\n\n\n  window.const = {\n    ErrorMessages: ErrorMessages,\n  };\n})();\n","(function () {\n\n  const pinsСoordinates = {\n    'Песчаная улица, дом 13': [55.801131, 37.508167],\n    'Подсосенский переулок, 11': [55.757556, 37.651592],\n  };\n\n  window.data = {\n    pinsСoordinates: pinsСoordinates,\n  }\n})();\n","(function () {\n  const deliveryForm = document.querySelector('.delivery-form');\n  const deliveryFormInputs = document.querySelectorAll('.delivery-form__input');\n  const deliveryFormBtn = document.querySelector('.delivery-form__button');\n\n  let isErrorValidate = false;\n\n  function cleanError(element) {\n    const errorMessage = element.nextElementSibling;\n\n    element.classList.remove('form__input--error');\n\n    if (errorMessage && errorMessage.classList.contains('form__error-message')) {\n      errorMessage.remove();\n    }\n  }\n\n  function showError(property, error, form) {\n    const formElement = form.querySelector('[name=' + property + ']');\n    formElement.classList.add('form__input--error');\n    let errorMessage = form.querySelector('[name=' + property + '] + p');\n\n    if (!errorMessage) {\n      errorMessage = document.createElement('p');\n      errorMessage.classList.add('form__error-message');\n      errorMessage.textContent = error;\n      // formElement.after(errorMessage);\n      formElement.parentNode.insertBefore(errorMessage, formElement.nextSibling);\n\n    } else {\n      errorMessage.textContent = error;\n    }\n  }\n\n  function getError(formData, property) {\n    let error = '';\n\n    const validate = {\n      'name': function () {\n        if (formData.name.length === 0) {\n          error = window.const.ErrorMessages[0];\n        }\n        else if (window.utils.PATTERNS.name.test(formData.name) === false) {\n          error = window.const.ErrorMessages[4];\n        }\n      },\n      'phone': function () {\n        if (formData.phone.length === 0) {\n          error = window.const.ErrorMessages[2];\n        }\n        else if (window.utils.PATTERNS.phone.test(formData.phone) === false) {\n          error = window.const.ErrorMessages[5];\n        }\n      },\n      'address': function () {\n        if (formData.address.length === 0) {\n          error = window.const.ErrorMessages[1];\n        }\n        else if (window.utils.PATTERNS.spam.test(formData.address) === false) {\n          error = window.const.ErrorMessages[6];\n        }\n      },\n      'message': function () {\n        if (formData.message.length === 0) {\n          error = window.const.ErrorMessages[3];\n        }\n        else if (window.utils.PATTERNS.spam.test(formData.message) === false) {\n          error = window.const.ErrorMessages[6];\n        }\n      },\n    }\n\n    validate[property]();\n    return error;\n  }\n\n  function getFormData(form) {\n    let data = {};\n\n    for (let i = 0; i < form.elements.length; i++) {\n      let element = form.elements[i];\n\n      if (element.tagName.toLowerCase() !== 'button') {\n        data[element.name] = element.value;\n      }\n    }\n\n    return data;\n  }\n\n  function validateForm(event) {\n    event.preventDefault();\n    let error = '';\n    let formData = getFormData(deliveryForm);\n\n    for (let property in formData) {\n      isErrorValidate = false;\n      error = '';\n\n      error = getError(formData, property);\n\n      if (error.length !== 0) {\n        isErrorValidate = true;\n\n        showError(property, error, deliveryForm);\n      }\n    }\n\n    if (!isErrorValidate) {\n      window.backend.sendFormData(deliveryForm);\n    }\n\n    return false;\n  }\n\n  deliveryForm.addEventListener('focus', function () {\n    const element = document.activeElement;\n\n    if (element !== deliveryFormBtn) cleanError(element);\n  }, true);\n\n  [].forEach.call(deliveryFormInputs, function (element) {\n    element.addEventListener('blur', function (event) {\n      const formElement = event.target;\n      const property = formElement.getAttribute('name');\n      let dataField = {};\n\n      dataField[property] = formElement.value;\n\n      const error = getError(dataField, property);\n\n      if (error.length != 0) {\n        showError(property, error, deliveryForm);\n      }\n\n      return false;\n    });\n  });\n\n  deliveryFormBtn.addEventListener('click', validateForm);\n})();\n","(function () {\n  const maskedInput = document.querySelector('[data-mask]');\n\n  function maskInput() {\n    const mask = this.dataset.mask;\n    let value = this.value;\n    const literalPattern = /[0]/;\n    const numberPattern = /[0-9]/;\n    let newValue = '';\n\n    let maskLength = mask.length;\n    let valueIndex = 0;\n    let maskIndex = 0;\n\n    for (; maskIndex < maskLength;) {\n      if (maskIndex >= value.length) break;\n\n      if (mask[maskIndex] === '0' && value[valueIndex].match(numberPattern) === null) break;\n\n      while (mask[maskIndex].match(literalPattern) === null) {\n        if (value[valueIndex] === mask[maskIndex]) break;\n        newValue += mask[maskIndex++];\n      }\n      newValue += value[valueIndex++];\n      maskIndex++;\n    }\n    this.value = newValue;\n  }\n\n  maskedInput.addEventListener('input', maskInput);\n\n})();\n","(function () {\n  const pickUpForm = document.querySelector('.pick-up-form');\n  const pickUpFormInputs = document.querySelectorAll('.pick-up-form__input');\n  const pickUpFormBtn = document.querySelector('.pick-up-form__button');\n  const labels = pickUpForm.querySelectorAll('.form__label');\n  const lastLabel = labels[labels.length - 1];\n\n  let isErrorValidate = false;\n\n  function showError() {\n    let errorMessage = pickUpForm.querySelector('.form__label + p');\n\n    if (!errorMessage) {\n      errorMessage = document.createElement('p');\n      errorMessage.classList.add('form__error-message');\n      errorMessage.textContent = window.const.ErrorMessages[7];\n      // lastLabel.after(errorMessage);\n      lastLabel.parentNode.insertBefore(errorMessage, lastLabel.nextSibling);\n\n    } else {\n      errorMessage.textContent = window.const.ErrorMessages[7];\n    }\n  }\n\n  function cleanError() {\n    const errorMessage = lastLabel.nextElementSibling;\n\n    if (errorMessage && errorMessage.classList.contains('form__error-message')) {\n      errorMessage.remove();\n    }\n  }\n\n  function getFormData(form) {\n    let data = {};\n\n    for (let i = 0; i < form.elements.length; i++) {\n      let element = form.elements[i];\n\n      if (element.tagName.toLowerCase() !== 'button' && element.checked == true) {\n        data[element.value] = element.checked;\n      }\n    }\n\n    return data;\n  }\n\n  function validateForm(event) {\n    event.preventDefault();\n    isErrorValidate = false;\n\n    let formData = getFormData(pickUpForm);\n\n    if (Object.keys(formData).length === 0) {\n      isErrorValidate = true;\n      showError();\n    }\n\n    if (!isErrorValidate) {\n      window.backend.sendFormData(pickUpForm);\n    }\n\n    return false;\n  }\n\n  pickUpFormInputs.forEach((input) => {\n    input.addEventListener('click', function () {\n      cleanError();\n    })\n  })\n\n  pickUpFormBtn.addEventListener('click', validateForm);\n})();\n","(function () {\n  const ESC_KEYCODE = 27;\n\n  const popup = document.querySelector('.popup');\n  const popupCloseItem = document.querySelectorAll('.popup-close');\n\n  let popupTitle = document.querySelector('.popup__title');\n  let popupText = document.querySelector('.popup__text');\n\n  function onEscPress(evt) {\n    if (evt.keyCode === ESC_KEYCODE) {\n      const popup = document.querySelector('.popup--open');\n      popup.classList.remove('popup--open');\n      window.body.unlock();\n    }\n  }\n\n  function close(popup) {\n    popup.classList.remove('popup--open');\n    popupTitle.textContent = '';\n    popupText.textContent = '';\n\n    document.removeEventListener('keydown', onEscPress);\n    window.body.unlock();\n  }\n\n  function open(message) {\n    const {\n      title = '',\n      text = '',\n    } = message;\n\n    popup.classList.add('popup--open');\n    window.body.lock();\n\n    popupTitle.textContent = title;\n    popupText.textContent = text;\n\n    popupCloseItem.forEach((item) => {\n      item.addEventListener('click', () => {\n        close(item.closest('.popup'));\n      });\n    })\n\n\n    popup.addEventListener('click', function (evt) {\n      if (!evt.target.closest('.popup__body')) {\n        close(evt.target.closest('.popup'));\n      }\n    })\n\n    document.addEventListener('keydown', onEscPress);\n  }\n\n  window.popup = {\n    open: open,\n  }\n})();\n","(function () {\n  const tabsItems = document.querySelectorAll('.tabs__item');\n  const tabsTriggers = document.querySelectorAll('.tabs__trigger');\n\n  let isInit = false;\n\n  function tabToggle(event) {\n    event.preventDefault();\n    const currentTabId = event.target.getAttribute('href').replace('#', '');\n\n    tabsTriggers.forEach((trigger) => {\n      trigger.classList.remove('tabs__trigger--active');\n    });\n\n    tabsItems.forEach((item) => {\n      item.classList.remove('tabs__item--show');\n    });\n\n    document.querySelector('#' + currentTabId).classList.add('tabs__item--show');\n    event.target.classList.add('tabs__trigger--active');\n  }\n\n\n  function tabsInit() {\n    if (!isInit) {\n\n      isInit = true;\n\n      tabsItems.forEach((item) => {\n        item.classList.add('tabs__item--active');\n      });\n\n      tabsTriggers.forEach((item) => {\n        item.addEventListener('click', tabToggle);\n      });\n    }\n\n    document.querySelector('.tabs__trigger').click();\n  }\n\n  function tabsDestroy() {\n    if (isInit) {\n\n      isInit = false;\n\n      tabsTriggers.forEach((trigger) => {\n        trigger.classList.remove('tabs__trigger--active');\n        trigger.removeEventListener('click', tabToggle);\n      });\n    }\n  }\n\n  document.addEventListener('DOMContentLoaded', () => {\n    if (window.innerWidth >= window.utils.TABLET_WIDTH) {\n      tabsInit();\n    }\n  });\n\n  window.addEventListener('resize', () => {\n    if (window.innerWidth < window.utils.TABLET_WIDTH) {\n      tabsDestroy();\n    }\n\n    if (window.innerWidth >= window.utils.TABLET_WIDTH) {\n      tabsInit();\n    }\n  });\n})();\n","(function () {\n  const PATTERNS = {\n    name: /^[А-Яа-яЁё\\-\\s]+$/,\n    phone: /\\+7\\s?[\\(]{0,1}9[0-9]{2}[\\)]{0,1}\\s?\\d{3}[-]{0,1}\\d{2}[-]{0,1}\\d{2}/,\n    spam: /[^\\<\\>\\[\\]%\\&'`]+$/,\n  };\n\n\n  const TABLET_WIDTH = 768;\n\n\n  function onSuccess(form) {\n    const sendBtn = form.querySelector('.form__button');\n    sendBtn.removeAttribute('disabled');\n    form.reset();\n\n    const message = {\n      title: 'Успешно!',\n      text: 'Сообщение отправлено',\n    }\n\n    window.popup.open(message);\n  }\n\n  function onError(form, error) {\n    const sendBtn = form.querySelector('.form__button');\n    sendBtn.removeAttribute('disabled');\n\n    const message = {\n      title: 'Упс!',\n      text: 'Ошибка: ' + error,\n    };\n\n    window.popup.open(message);\n  }\n\n  window.utils = {\n    PATTERNS: PATTERNS,\n    TABLET_WIDTH: TABLET_WIDTH,\n    onSuccess: onSuccess,\n    onError: onError,\n  };\n})();\n"]}